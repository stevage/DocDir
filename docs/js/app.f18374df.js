(function(e){function t(t){for(var n,a,o=t[0],s=t[1],l=t[2],f=0,u=[];f<o.length;f++)a=o[f],c[a]&&u.push(c[a][0]),c[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var s=i[o];0!==c[s]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},c={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=s;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),c=i.n(n);c.a},"0bf6":function(e,t,i){"use strict";var n=i("1cac"),c=i.n(n);c.a},"1cac":function(e,t,i){},"1d72":function(e,t,i){},"3d64":function(e,t,i){"use strict";var n=i("1d72"),c=i.n(n);c.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e._m(0),i("div",{attrs:{id:"middle"}},[i("div",{attrs:{id:"sidebar"}},[i("PracticeFilter"),i("ClinicInfo")],1),i("div",{attrs:{id:"map-container"}},[i("Map")],1)])])},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"top"}},[i("h1",[e._v("DocDir")])])}],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map"}})},o=[],s=(i("7514"),i("a4bb")),l=i.n(s),d=(i("28a5"),i("ac6a"),i("e192")),f=i.n(d),u=i("8936"),v=i.n(u),p=i("bc3a"),h=i.n(p),m=i("65d0"),_=i.n(m),b=(i("ac6d"),i("a02c"),i("462d"));function y(e){return{type:"FeatureCollection",features:e.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.Lng,e.Lat]},properties:e}})}}var w={};function g(){window.Map.clinics.forEach(function(e){w[e.ID]=e,e.doctors=[]}),window.Map.doctors.forEach(function(e){e.Clinics.split(/[^0-9]+/).forEach(function(t){var i=w[t];i?i.doctors.push(e):t&&console.error("No clinic with ID ",t)})});for(var e=l()(w),t=0;t<e.length;t++){var i=e[t],n=w[i];n.L=!!n.doctors.find(function(e){return e.Lesbians}),n.G=!!n.doctors.find(function(e){return e["Gay men"]}),n.B=!!n.doctors.find(function(e){return e["Bisexual women"]}),n.T=!!n.doctors.find(function(e){return e["Trans people"]}),n.codesText="";for(var c=["L","G","B","T"],r=0;r<c.length;r++){var a=c[r];n[a]&&(n.codesText+=a)}}}var k={mounted:function(){var e=this;f.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJGcW03aExzIn0.QUkUmTGIO3gGt83HiRIjQw";var t=new f.a.Map({container:"map",center:[145,-37.8],zoom:12,style:"mapbox://styles/mapbox/light-v9"});v.a.init(t),t.U.loadImage("clinic-marker","first-aid-kit.png"),t.addControl(new _.a({accessToken:f.a.accessToken,mapboxgl:f.a,countries:"au"})),window.map=t,window.Map=this,h.a.get("https://emscycletours.site44.com/QueerDoc/clinics.csv").then(function(t){e.clinics=b.csvParse(t.data)}).then(function(){return h.a.get("https://emscycletours.site44.com/QueerDoc/doctors.csv")}).then(function(i){e.doctors=b.csvParse(i.data),g(),t.U.onLoad(function(){return T(t)})})},methods:{updateFilter:function(e){for(var t=[],i=["L","G","B","T"],n=0;n<i.length;n++){var c=i[n];e[c]&&t.push(["==",["get",c],!0])}map.U.setFilter(["clinic-points","clinic-circle","clinic-code"],["all"].concat(t))}}};function T(e){var t=new f.a.Popup({closeButton:!1,closeOnClick:!1});e.U.addGeoJSON("clinics",y(l()(w).map(function(e){return w[e]}))),e.U.addSymbol("clinic-points","clinics",{iconImage:"clinic-marker",iconSize:.05,iconAllowOverlap:!0}),e.U.addSymbol("clinic-code","clinics",{textField:"{codesText}",textAllowOverlap:!0,textOffset:[0,1],textHaloWidth:2,textHaloColor:"white",minzoom:12}),e.U.hoverPointer("clinic-points"),e.on("click","clinic-points",function(e){var t=w[e.features[0].properties.ID];window.ClinicInfo.clinic=t,window.ClinicInfo.doctors=t.doctors}),e.on("mouseenter","clinic-points",function(i){t.setLngLat(i.features[0].geometry.coordinates).setHTML(i.features[0].properties["Name of clinic"]).addTo(e)}),e.on("mouseleave","clinic-points",function(e){t.remove()})}var C=k,x=(i("a363"),i("2877")),L=Object(x["a"])(C,a,o,!1,null,"7b8666b8",null);L.options.__file="Map.vue";var G=L.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"PracticeFilter"}},[e._v("Find me a doctor: "),i("br"),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.L,expression:"filter.L"}],attrs:{id:"check-L",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.L)?e._i(e.filter.L,null)>-1:e.filter.L},on:{change:[function(t){var i=e.filter.L,n=t.target,c=!!n.checked;if(Array.isArray(i)){var r=null,a=e._i(i,r);n.checked?a<0&&e.$set(e.filter,"L",i.concat([r])):a>-1&&e.$set(e.filter,"L",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.filter,"L",c)},e.change]}}),i("label",{staticClass:"L",attrs:{for:"check-L"}},[e._v("L")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.G,expression:"filter.G"}],attrs:{id:"check-G",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.G)?e._i(e.filter.G,null)>-1:e.filter.G},on:{change:[function(t){var i=e.filter.G,n=t.target,c=!!n.checked;if(Array.isArray(i)){var r=null,a=e._i(i,r);n.checked?a<0&&e.$set(e.filter,"G",i.concat([r])):a>-1&&e.$set(e.filter,"G",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.filter,"G",c)},e.change]}}),i("label",{staticClass:"G",attrs:{for:"check-G"}},[e._v("G")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.B,expression:"filter.B"}],attrs:{id:"check-B",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.B)?e._i(e.filter.B,null)>-1:e.filter.B},on:{change:[function(t){var i=e.filter.B,n=t.target,c=!!n.checked;if(Array.isArray(i)){var r=null,a=e._i(i,r);n.checked?a<0&&e.$set(e.filter,"B",i.concat([r])):a>-1&&e.$set(e.filter,"B",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.filter,"B",c)},e.change]}}),i("label",{staticClass:"B",attrs:{for:"check-B"}},[e._v("B")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.T,expression:"filter.T"}],attrs:{id:"check-T",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.T)?e._i(e.filter.T,null)>-1:e.filter.T},on:{change:[function(t){var i=e.filter.T,n=t.target,c=!!n.checked;if(Array.isArray(i)){var r=null,a=e._i(i,r);n.checked?a<0&&e.$set(e.filter,"T",i.concat([r])):a>-1&&e.$set(e.filter,"T",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(e.filter,"T",c)},e.change]}}),i("label",{staticClass:"T",attrs:{for:"check-T"}},[e._v("T")])])])},P=[],A={name:"PracticeFilter",data:function(){return{filter:{}}},created:function(){window.PracticeFilter=this},watch:{filter:function(){}},methods:{change:function(){console.log(this.filter),window.Map.updateFilter(this.filter)}}},O=A,I=(i("3d64"),Object(x["a"])(O,B,P,!1,null,"22114ced",null));I.options.__file="PracticeFilter.vue";var $=I.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.clinic["Name of clinic"]?i("div",{attrs:{id:"ClinicInfo"}},[i("div",{staticClass:"name"},[e._v(e._s(e.clinic["Name of clinic"]))]),e.clinic.L?i("div",{staticClass:"code L"},[e._v("L")]):e._e(),e.clinic.G?i("div",{staticClass:"code G"},[e._v("G")]):e._e(),e.clinic.B?i("div",{staticClass:"code B"},[e._v("B")]):e._e(),e.clinic.T?i("div",{staticClass:"code T"},[e._v("T")]):e._e(),i("table",[i("tr",[i("th",[e._v("Phone")]),i("td",[e._v(e._s(e.clinic["Phone"]))])]),i("tr",[i("th",[e._v("Address")]),i("td",[e._v(" "+e._s(e.clinic["Street address"])),i("br"),e._v(e._s(e.clinic["Suburb"]))])]),i("tr",[i("th",[e._v("Website")]),i("td",[i("a",{attrs:{href:e.clinic["Website"]}},[e._v("Visit")])])])]),i("h3",[e._v("Doctors")]),e._l(e.doctors,function(t){return i("div",{staticClass:"doctor"},[i("div",{staticClass:"name"},[e._v(e._s(t.title)+" "+e._s(t["First Name"])+" "+e._s(t["Last Name"])),t.Gender?i("span",[e._v(" ("+e._s(t.Gender)+")")]):e._e()]),i("div",{staticClass:"type"},[e._v(e._s(t["Type of doctor"]))]),i("div",{staticClass:"codes"},[t["Lesbians"]?i("div",{staticClass:"code L"},[e._v("L")]):e._e(),t["Gay men"]?i("div",{staticClass:"code G"},[e._v("G")]):e._e(),t["Bisexual women"]?i("div",{staticClass:"code B"},[e._v("B")]):e._e(),t["Trans people"]?i("div",{staticClass:"code T"},[e._v("T")]):e._e()])])})],2):e._e()},j=[],M={name:"ClinicInfo",data:function(){return{clinic:{},doctors:[]}},created:function(){window.ClinicInfo=this}},S=M,N=(i("0bf6"),Object(x["a"])(S,F,j,!1,null,"baea5280",null));N.options.__file="ClinicInfo.vue";var E=N.exports,U={name:"app",components:{Map:G,PracticeFilter:$,ClinicInfo:E}},D=U,J=(i("034f"),Object(x["a"])(D,c,r,!1,null,null,null));J.options.__file="App.vue";var z=J.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(z)}}).$mount("#app")},"64a9":function(e,t,i){},a363:function(e,t,i){"use strict";var n=i("a965"),c=i.n(n);c.a},a965:function(e,t,i){}});
//# sourceMappingURL=app.f18374df.js.map