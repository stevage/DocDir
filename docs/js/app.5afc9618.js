(function(e){function t(t){for(var n,o,a=t[0],s=t[1],l=t[2],u=0,f=[];u<a.length;u++)o=a[u],r[o]&&f.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),i()}function i(){for(var e,t=0;t<c.length;t++){for(var i=c[t],n=!0,a=1;a<i.length;a++){var s=i[a];0!==r[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},r={app:0},c=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=s;c.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),r=i.n(n);r.a},"1d72":function(e,t,i){},"3d64":function(e,t,i){"use strict";var n=i("1d72"),r=i.n(n);r.a},4836:function(e,t,i){"use strict";var n=i("8efc"),r=i.n(n);r.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[e._m(0),i("div",{attrs:{id:"middle"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],attrs:{id:"sidebar"}},[i("div",{attrs:{id:"toggle-buffer"}}),i("PracticeFilter"),i("ClinicInfo")],1),i("div",{attrs:{id:"map-container"}},[i("Map")],1),i("button",{attrs:{id:"toggle"},on:{click:e.toggle}},[e._v("Toggle sidebar")])])])},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"top"}},[i("h1",[e._v("DocDir")])])}],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map"}})},a=[],s=(i("96cf"),i("3b8d")),l=(i("7514"),i("a4bb")),d=i.n(l),u=(i("28a5"),i("ac6a"),i("e192")),f=i.n(u),p=i("8936"),v=i.n(p),h=(i("bc3a"),i("65d0")),m=i.n(h),_=(i("7914"),i("ac6d"),i("a02c"),i("b2e9"));function b(e){return{type:"FeatureCollection",features:e.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.Longitude,e.Latitude]},properties:e}})}}var g={};function w(){window.Map.clinics.forEach(function(e){g[e.ID]=e,e.doctors=[]}),window.Map.doctors.forEach(function(e){e.Clinics.split(/[^0-9]+/).forEach(function(t){var i=g[t];i?i.doctors.push(e):t&&console.error("No clinic with ID ",t)})});for(var e=d()(g),t=0;t<e.length;t++){var i=e[t],n=g[i];n.L=!!n.doctors.find(function(e){return e.Lesbians}),n.G=!!n.doctors.find(function(e){return e["Gay men"]}),n.B=!!n.doctors.find(function(e){return e["Bisexual women"]}),n.T=!!n.doctors.find(function(e){return e["Trans people"]}),n.codesText="";for(var r=["L","G","B","T"],c=0;c<r.length;c++){var o=r[c];n[o]&&(n.codesText+=o)}}}var y={mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return f.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJGcW03aExzIn0.QUkUmTGIO3gGt83HiRIjQw",t=new f.a.Map({container:"map",center:[145,-37.8],zoom:12,style:"mapbox://styles/mapbox/light-v9"}),t.addControl(new m.a({accessToken:f.a.accessToken,mapboxgl:f.a,countries:"au"}),"top-right"),t.addControl(new f.a.NavigationControl),v.a.init(t),t.U.loadImage("clinic-marker","  first-aid-kit.png"),window.map=t,window.Map=this,i="https://docs.google.com/spreadsheets/d/e/2PACX-1vStqC2_ia7DSyJth8w-pSawHIwxEQPhZgxDOFoXbbGFyS5pQoQe12Rk_SLszrJ6bK48BlA8DJ8RBKmi/pub?output=csv",n="https://docs.google.com/spreadsheets/d/e/2PACX-1vT2NvY81Ds0S3S7rQEcGWqDzGm_k5GMy8XVbTksNtCcIBIQP98V2yU75zJzzlkV17lJwz-L1cwQiGn-/pub?output=csv",console.log(_.csv),e.next=13,_.csv(i);case 13:return this.clinics=e.sent,e.next=16,_.csv(n);case 16:this.doctors=e.sent,w(),t.U.onLoad(function(){return k(t)});case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{updateFilter:function(e){for(var t=[],i=["L","G","B","T"],n=0;n<i.length;n++){var r=i[n];e[r]&&t.push(["==",["get",r],!0])}map.U.setFilter(["clinic-points","clinic-code"],["all"].concat(t))}}};function k(e){var t=new f.a.Popup({closeButton:!1,closeOnClick:!1});e.U.addGeoJSON("clinics",b(d()(g).map(function(e){return g[e]}))),e.U.addSymbol("clinic-points","clinics",{iconImage:"clinic-marker",iconSize:.05,iconAllowOverlap:!0}),e.U.addSymbol("clinic-code","clinics",{textField:"{codesText}",textAllowOverlap:!0,textOffset:[0,1],textHaloWidth:2,textHaloColor:"white",minzoom:12}),e.U.hoverPointer("clinic-points"),e.on("click","clinic-points",function(e){var t=g[e.features[0].properties.ID];window.ClinicInfo.clinic=t,window.ClinicInfo.doctors=t.doctors}),e.on("mouseenter","clinic-points",function(i){t.setLngLat(i.features[0].geometry.coordinates).setHTML(i.features[0].properties["Name of clinic"]).addTo(e)}),e.on("mouseleave","clinic-points",function(e){t.remove()})}var C=y,T=(i("75bf"),i("2877")),x=Object(T["a"])(C,o,a,!1,null,"72db3d99",null);x.options.__file="Map.vue";var G=x.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"PracticeFilter"}},[e._v("Find me a doctor: "),i("br"),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.L,expression:"filter.L"}],attrs:{id:"check-L",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.L)?e._i(e.filter.L,null)>-1:e.filter.L},on:{change:[function(t){var i=e.filter.L,n=t.target,r=!!n.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);n.checked?o<0&&e.$set(e.filter,"L",i.concat([c])):o>-1&&e.$set(e.filter,"L",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.filter,"L",r)},e.change]}}),i("label",{staticClass:"L",attrs:{for:"check-L"}},[e._v("L")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.G,expression:"filter.G"}],attrs:{id:"check-G",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.G)?e._i(e.filter.G,null)>-1:e.filter.G},on:{change:[function(t){var i=e.filter.G,n=t.target,r=!!n.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);n.checked?o<0&&e.$set(e.filter,"G",i.concat([c])):o>-1&&e.$set(e.filter,"G",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.filter,"G",r)},e.change]}}),i("label",{staticClass:"G",attrs:{for:"check-G"}},[e._v("G")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.B,expression:"filter.B"}],attrs:{id:"check-B",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.B)?e._i(e.filter.B,null)>-1:e.filter.B},on:{change:[function(t){var i=e.filter.B,n=t.target,r=!!n.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);n.checked?o<0&&e.$set(e.filter,"B",i.concat([c])):o>-1&&e.$set(e.filter,"B",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.filter,"B",r)},e.change]}}),i("label",{staticClass:"B",attrs:{for:"check-B"}},[e._v("B")])]),i("div",{staticClass:"code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.T,expression:"filter.T"}],attrs:{id:"check-T",type:"checkbox"},domProps:{checked:Array.isArray(e.filter.T)?e._i(e.filter.T,null)>-1:e.filter.T},on:{change:[function(t){var i=e.filter.T,n=t.target,r=!!n.checked;if(Array.isArray(i)){var c=null,o=e._i(i,c);n.checked?o<0&&e.$set(e.filter,"T",i.concat([c])):o>-1&&e.$set(e.filter,"T",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.filter,"T",r)},e.change]}}),i("label",{staticClass:"T",attrs:{for:"check-T"}},[e._v("T")])])])},B=[],P={name:"PracticeFilter",data:function(){return{filter:{}}},created:function(){window.PracticeFilter=this},watch:{filter:function(){}},methods:{change:function(){console.log(this.filter),window.Map.updateFilter(this.filter)}}},A=P,I=(i("3d64"),Object(T["a"])(A,L,B,!1,null,"22114ced",null));I.options.__file="PracticeFilter.vue";var O=I.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.clinic["Name of clinic"]?i("div",{attrs:{id:"ClinicInfo"}},[i("div",{staticClass:"name"},[e._v(e._s(e.clinic["Name of clinic"]))]),i("div",{staticClass:"codes"},[e.clinic.L?i("div",{staticClass:"code L"},[e._v("L")]):e._e(),e.clinic.G?i("div",{staticClass:"code G"},[e._v("G")]):e._e(),e.clinic.B?i("div",{staticClass:"code B"},[e._v("B")]):e._e(),e.clinic.T?i("div",{staticClass:"code T"},[e._v("T")]):e._e()]),i("table",[i("tr",[i("th",[e._v("Phone")]),i("td",[i("a",{attrs:{href:"tel:"+e.clinic["Phone"]}},[e._v(e._s(e.clinic["Phone"]))])])]),i("tr",[i("th",[e._v("Address")]),i("td",[e._v(" "+e._s(e.clinic["Street address"])),i("br"),e._v(e._s(e.clinic["Suburb"]))])]),i("tr",[i("th",[e._v("Website")]),i("td",[i("a",{attrs:{href:e.clinic["Website"]}},[e._v("Visit")])])])]),i("h3",[e._v("Doctors")]),e._l(e.doctors,function(t){return i("div",{staticClass:"doctor"},[i("div",{staticClass:"name"},[e._v(e._s(t.title)+" "+e._s(t["First Name"])+" "+e._s(t["Last Name"])),t.Gender?i("span",[e._v(" ("+e._s(t.Gender)+")")]):e._e()]),i("div",{staticClass:"type"},[e._v(e._s(t["Type of doctor"]))]),i("div",{staticClass:"codes"},[t["Lesbians"]?i("div",{staticClass:"code L"},[e._v("L")]):e._e(),t["Gay men"]?i("div",{staticClass:"code G"},[e._v("G")]):e._e(),t["Bisexual women"]?i("div",{staticClass:"code B"},[e._v("B")]):e._e(),t["Trans people"]?i("div",{staticClass:"code T"},[e._v("T")]):e._e()])])})],2):e._e()},$=[],F={name:"ClinicInfo",data:function(){return{clinic:{},doctors:[]}},created:function(){window.ClinicInfo=this}},j=F,N=(i("4836"),Object(T["a"])(j,S,$,!1,null,"b3021972",null));N.options.__file="ClinicInfo.vue";var M=N.exports,E={name:"app",components:{Map:G,PracticeFilter:O,ClinicInfo:M},data:function(){return{collapsed:!1}},methods:{toggle:function(){this.collapsed=!this.collapsed,this.$nextTick(function(){return window.map.resize()})}}},z=E,D=(i("034f"),Object(T["a"])(z,r,c,!1,null,null,null));D.options.__file="App.vue";var J=D.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(J)}}).$mount("#app")},"572f":function(e,t,i){},"64a9":function(e,t,i){},"75bf":function(e,t,i){"use strict";var n=i("572f"),r=i.n(n);r.a},"8efc":function(e,t,i){}});
//# sourceMappingURL=app.5afc9618.js.map